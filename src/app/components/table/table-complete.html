<div class="flex flex-col rounded-lg overflow-hidden shadow-lg">
  <table class="bg-[var(--color-table-body-bg)] table-fixed w-full">

    <thead class="bg-[var(--color-table-header-bg)]
                   text-[var(--color-table-header-text)] text-sm">
      <tr>
        @for (col of columnsName(); track $index) {
          <th class="w-40 py-4 px-4 text-left font-semibold whitespace-nowrap truncate">
            {{ col }}
          </th>
        }
      </tr>
    </thead>

    <tbody>
      @for (row of rows(); track $index) {

        <tr class="border-b border-[var(--color-table-header-bg)]">

          @for (key of keys(); track key) {

            @if (key === 'status') {
              <td class="px-4 py-3">
                <span
                  class="px-3 py-1 rounded-full text-sm font-medium"
                  [class.bg-[var(--color-status-success-bg)]]="['al_dia', 'activo'].includes(row[key])"
                  [class.text-[var(--color-status-success-text)]]="['al_dia', 'activo'].includes(row[key])"
                  [class.bg-[var(--color-status-pending-bg)]]="['pendiente', 'licencia'].includes(row[key])"
                  [class.text-[var(--color-status-pending-text)]]="['pendiente', 'licencia'].includes(row[key])"
                >
                  {{ row[key] }}
                </span>
              </td>
            }

            @else {
              <td class="px-4 py-3 truncate whitespace-nowrap overflow-hidden text-ellipsis text-[var(--color-title-main)]">
                {{ row[key] }}
              </td>
            }

          }

        </tr>

      }
    </tbody>

  </table>
</div>
